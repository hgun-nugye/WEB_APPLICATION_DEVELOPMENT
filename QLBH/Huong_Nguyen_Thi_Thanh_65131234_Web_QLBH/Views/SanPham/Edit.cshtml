@model Huong_Nguyen_Thi_Thanh_65131234_Web_QLBH.Models.SanPham

@{
    ViewBag.Title = "Sửa Sản phẩm";
}

@Html.ValidationSummary(true, "", new { @class = "text-danger" })

<div class=" container">
    <h2 class="text-warning mb-3">
        <i class="fa-solid fa-pen-to-square"></i> Sửa Thông Tin Sản phẩm
    </h2>

    <!-- ======== Thông báo TempData ======== -->
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="fa-solid fa-circle-check"></i> @TempData["SuccessMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="fa-solid fa-triangle-exclamation"></i> @TempData["ErrorMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
    <!-- ======== Form sửa sản phẩm ======== -->
    <form asp-action="Edit" method="post" enctype="multipart/form-data" class="border p-4 rounded shadow-sm bg-light">
        <input type="hidden" asp-for="MaSP" />

        <div class="form-group mb-3">
            <label><i class="fa-solid fa-hashtag"></i> Mã Sản phẩm</label>
            <input asp-for="MaSP" class="form-control" readonly />
        </div>

        <div class="form-group mb-3">
            <label><i class="fa-solid fa-box"></i> Tên Sản phẩm</label>
            <input asp-for="TenSP" class="form-control" />
            <span asp-validation-for="TenSP" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label><i class="fa-solid fa-money-bill"></i> Đơn giá</label>
            <input asp-for="DonGia" class="form-control" type="number" step="1000" />
            <span asp-validation-for="DonGia" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label><i class="fa-solid fa-align-left"></i> Mô tả</label>
            <textarea asp-for="MoTaSP" class="form-control" rows="3"></textarea>
            <span asp-validation-for="MoTaSP" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label><i class="fa-solid fa-layer-group"></i> Loại sản phẩm</label>
            <select asp-for="MaLoai" asp-items="ViewBag.LoaiSP" class="form-select"></select>
            <span asp-validation-for="TenLoai" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label><i class="fa-solid fa-store"></i> Gian hàng</label>
            <select asp-for="MaGH" asp-items="ViewBag.GianHang" class="form-select"></select>
            <span asp-validation-for="TenGH" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            @if (!string.IsNullOrEmpty(Model.AnhMH))
            {
                <div class="mt-3">
                    <strong><i class="fa-solid fa-image"></i> Ảnh minh họa:</strong><br />
                    <a href="@Model.AnhMH" target="_blank">
                        <img src="@Model.AnhMH"
                             alt="Ảnh sản phẩm"
                             style="max-width: 250px; height: auto; border-radius: 8px; border: 1px solid #ccc; margin-top: 10px;" />
                    </a>
                </div>
            }

            <input type="file" name="AnhFile" accept="image/*" class="form-control mt-2" />
        </div>

        <button type="submit" class="btn btn-warning text-white">
            <i class="fa-solid fa-save"></i> Cập nhật
        </button>
        <a asp-action="SanPham_Admin" class="btn btn-secondary">
            <i class="fa-solid fa-arrow-left"></i> Quay lại
        </a>
    </form>
</div>
